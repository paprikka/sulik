/*! ngDialog - v0.1.3 (https://github.com/likeastore/ngDialog) */
!function(a,b){"use strict";var c=b.module("ngDialog",[]),d=b.element,e=b.isDefined,f=(document.body||document.documentElement).style,g=e(f.animation)||e(f.WebkitAnimation)||e(f.MozAnimation)||e(f.MsAnimation)||e(f.OAnimation),h="animationend webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend";c.provider("ngDialog",function(){var a=this.defaults={className:"ngdialog-theme-default",plain:!1,showClose:!0,closeByDocument:!0,closeByEscape:!0},c=0,e=0;this.$get=["$document","$templateCache","$compile","$q","$http","$rootScope","$timeout",function(f,i,j,k,l,m,n){var o=f.find("body"),p={onDocumentKeyup:function(a){27===a.keyCode&&q.close()},closeDialog:function(a){a.unbind("click"),1===e&&o.unbind("keyup").removeClass("ngdialog-open"),e-=1,g?a.unbind(h).bind(h,function(){a.remove()}).addClass("ngdialog-closing"):a.remove(),m.$broadcast("ngDialog.closed",a)}},q={open:function(f){function g(a){return a?b.isString(a)&&r.plain?a:i.get(a)||l.get(a,{cache:!0}):"Empty template"}var h=this,r=b.copy(a);f=f||{},b.extend(r,f),c+=1,h.latestID="ngdialog"+c;var s,t=b.isObject(r.scope)?r.scope.$new():m.$new();k.when(g(r.template)).then(function(a){return a=b.isString(a)?a:a.data&&b.isString(a.data)?a.data:"",r.showClose&&(a+='<div class="ngdialog-close"></div>'),h.$result=s=d('<div id="ngdialog'+c+'" class="ngdialog"></div>'),s.html('<div class="ngdialog-overlay"></div><div class="ngdialog-content">'+a+"</div>"),r.controller&&b.isString(r.controller)&&s.attr("ng-controller",r.controller),r.className&&s.addClass(r.className),r.data&&b.isString(r.data)&&(t.ngDialogData="{"===r.data.replace(/^\s*/,"")[0]?b.fromJson(r.data):r.data),n(function(){j(s)(t)}),t.$on("$destroy",function(){s.remove()}),o.addClass("ngdialog-open").append(s),r.closeByEscape&&o.bind("keyup",p.onDocumentKeyup),r.closeByDocument&&s.bind("click",function(a){var b=d(a.target).hasClass("ngdialog-overlay"),c=d(a.target).hasClass("ngdialog-close");(b||c)&&q.close(s.attr("id"))}),e+=1,m.$broadcast("ngDialog.opened",s),q})},close:function(a){var b=d(document.getElementById(a));return b.length?p.closeDialog(b):q.closeAll(),q},closeAll:function(){var a=document.querySelectorAll(".ngdialog");b.forEach(a,function(a){p.closeDialog(d(a))})}};return q}]}),c.directive("ngDialog",["ngDialog",function(a){return{restrict:"A",link:function(b,c,d){c.on("click",function(b){b.preventDefault(),a.open({template:d.ngDialog,className:d.ngDialogClass,controller:d.ngDialogController,scope:d.ngDialogScope,data:d.ngDialogData,showClose:"false"===d.ngDialogShowClose?!1:!0,closeByDocument:"false"===d.ngDialogCloseByDocument?!1:!0,closeByEscape:"false"===d.ngDialogCloseByKeyup?!1:!0})})}}}])}(window,window.angular);